@using Newtonsoft.Json
@using Nubetico.Frontend.Components.Core.Dialogs
@using Nubetico.Frontend.Components.Core.Shared
@using Nubetico.Frontend.Components.Shared
@using Nubetico.Frontend.Services.Core
@using Nubetico.Shared.Dto.Core
@using Nubetico.Shared.Static.Core

@using Nubetico.Shared.Dto.ProyectosConstruccion;
@using Nubetico.Shared.Dto.Common;

@inherits NbBaseComponent

@inject GlobalBreakpointService breakpointService
@inject IStringLocalizer<SharedResources> Localizer

<RadzenPanel>
    <HeaderTemplate>
        <RadzenText TextStyle="TextStyle.H6" class="rz-display-flex rz-align-items-center rz-m-0">
            <RadzenIcon Icon=@("\ue283") IconColor="@Colors.Primary" class="rz-me-2 fa-light" />
            <b>Contactos</b>
        </RadzenText>
    </HeaderTemplate>
    <ChildContent>
        <RadzenCard class="rz-mt-4">
            <RadzenDataGrid @ref="GridContactos"
                            IsLoading=@IsLoading
                            Culture="@System.Globalization.CultureInfo.CurrentCulture"
                            Count="@Count"
                            Data="@ListaContactos"
                            LoadData="@LoadDataAsync"
                            AllowSorting="true"
                            AllowFiltering="false"
                            AllowPaging="true"
                            PageSize="@this.RowsPerPage"
                            PagerHorizontalAlign="HorizontalAlign.Center"
                            ShowPagingSummary="true"
                            ColumnWidth="200px"
                            SelectionMode="DataGridSelectionMode.Single"
                            TItem="ContactosDto"
                            RowDoubleClick="DataGridRowDoubleClick"
                            @bind-Value=@ContactosSeleccionados>
                <Columns>
                    <RadzenDataGridColumn Property="Nombre" Title="Nombre" TextAlign="TextAlign.Center" Visible="true" />
                    <RadzenDataGridColumn Property="Telefono" Title="Telefono" TextAlign="TextAlign.Center" />
                    <RadzenDataGridColumn Property="Correo" Title="Correo" TextAlign="TextAlign.Center" />
                </Columns>
            </RadzenDataGrid>
        </RadzenCard>
    </ChildContent>
</RadzenPanel>

@code {

}
